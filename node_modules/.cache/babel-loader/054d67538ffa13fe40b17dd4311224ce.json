{"ast":null,"code":"import _slicedToArray from\"C:/Users/97154/swap/hami/LokiswapUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/Users/97154/swap/hami/LokiswapUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React from'react';import styled from'styled-components';import{Flex,IconButton,useModal,CalculateIcon}from'@pancakeswap/uikit';import RoiCalculatorModal from'components/RoiCalculatorModal';import{useTranslation}from'contexts/Localization';import{useFarmUser,useLpTokenPrice}from'state/farms/hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ApyLabelContainer=styled(Flex)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  cursor: pointer;\\n\\n  &:hover {\\n    opacity: 0.5;\\n  }\\n\"])));var ApyButton=function ApyButton(_ref){var variant=_ref.variant,pid=_ref.pid,lpLabel=_ref.lpLabel,lpSymbol=_ref.lpSymbol,cakePrice=_ref.cakePrice,apr=_ref.apr,multiplier=_ref.multiplier,displayApr=_ref.displayApr,addLiquidityUrl=_ref.addLiquidityUrl,isTokenOnly=_ref.isTokenOnly;var _useTranslation=useTranslation(),t=_useTranslation.t;var lpPrice=useLpTokenPrice(lpSymbol,isTokenOnly);var _useFarmUser=useFarmUser(pid),tokenBalance=_useFarmUser.tokenBalance,stakedBalance=_useFarmUser.stakedBalance;var _useModal=useModal(/*#__PURE__*/_jsx(RoiCalculatorModal,{linkLabel:t('Get %symbol%',{symbol:lpLabel}),stakingTokenBalance:stakedBalance.plus(tokenBalance),stakingTokenSymbol:lpSymbol,stakingTokenPrice:lpPrice.toNumber(),earningTokenPrice:cakePrice.toNumber(),apr:apr,multiplier:multiplier,displayApr:displayApr,linkHref:addLiquidityUrl,isFarm:true})),_useModal2=_slicedToArray(_useModal,1),onPresentApyModal=_useModal2[0];var handleClickButton=function handleClickButton(event){event.stopPropagation();onPresentApyModal();};return/*#__PURE__*/_jsxs(ApyLabelContainer,{alignItems:\"center\",onClick:handleClickButton,children:[displayApr,\"%\",variant==='text-and-button'&&/*#__PURE__*/_jsx(IconButton,{variant:\"text\",scale:\"sm\",ml:\"4px\",children:/*#__PURE__*/_jsx(CalculateIcon,{width:\"18px\"})})]});};export default ApyButton;","map":{"version":3,"sources":["C:/Users/97154/swap/hami/LokiswapUI/src/views/Farms/components/FarmCard/ApyButton.tsx"],"names":["React","styled","Flex","IconButton","useModal","CalculateIcon","RoiCalculatorModal","useTranslation","useFarmUser","useLpTokenPrice","ApyLabelContainer","ApyButton","variant","pid","lpLabel","lpSymbol","cakePrice","apr","multiplier","displayApr","addLiquidityUrl","isTokenOnly","t","lpPrice","tokenBalance","stakedBalance","symbol","plus","toNumber","onPresentApyModal","handleClickButton","event","stopPropagation"],"mappings":"wVAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAEA,OAASC,IAAT,CAAeC,UAAf,CAA2BC,QAA3B,CAAqCC,aAArC,KAA0D,oBAA1D,CACA,MAAOC,CAAAA,kBAAP,KAA+B,+BAA/B,CACA,OAASC,cAAT,KAA+B,uBAA/B,CACA,OAASC,WAAT,CAAsBC,eAAtB,KAA6C,mBAA7C,C,wFAEA,GAAMC,CAAAA,iBAAiB,CAAGT,MAAM,CAACC,IAAD,CAAT,8HAAvB,CAqBA,GAAMS,CAAAA,SAAmC,CAAG,QAAtCA,CAAAA,SAAsC,MAWtC,IAVJC,CAAAA,OAUI,MAVJA,OAUI,CATJC,GASI,MATJA,GASI,CARJC,OAQI,MARJA,OAQI,CAPJC,QAOI,MAPJA,QAOI,CANJC,SAMI,MANJA,SAMI,CALJC,GAKI,MALJA,GAKI,CAJJC,UAII,MAJJA,UAII,CAHJC,UAGI,MAHJA,UAGI,CAFJC,eAEI,MAFJA,eAEI,CADJC,WACI,MADJA,WACI,CACJ,oBAAcd,cAAc,EAA5B,CAAQe,CAAR,iBAAQA,CAAR,CACA,GAAMC,CAAAA,OAAO,CAAGd,eAAe,CAACM,QAAD,CAAWM,WAAX,CAA/B,CACA,iBAAwCb,WAAW,CAACK,GAAD,CAAnD,CAAQW,YAAR,cAAQA,YAAR,CAAsBC,aAAtB,cAAsBA,aAAtB,CACA,cAA4BrB,QAAQ,cAClC,KAAC,kBAAD,EACE,SAAS,CAAEkB,CAAC,CAAC,cAAD,CAAiB,CAAEI,MAAM,CAAEZ,OAAV,CAAjB,CADd,CAEE,mBAAmB,CAAEW,aAAa,CAACE,IAAd,CAAmBH,YAAnB,CAFvB,CAGE,kBAAkB,CAAET,QAHtB,CAIE,iBAAiB,CAAEQ,OAAO,CAACK,QAAR,EAJrB,CAKE,iBAAiB,CAAEZ,SAAS,CAACY,QAAV,EALrB,CAME,GAAG,CAAEX,GANP,CAOE,UAAU,CAAEC,UAPd,CAQE,UAAU,CAAEC,UARd,CASE,QAAQ,CAAEC,eATZ,CAUE,MAAM,KAVR,EADkC,CAApC,wCAAOS,iBAAP,eAeA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,KAAD,CAAiB,CACzCA,KAAK,CAACC,eAAN,GACAH,iBAAiB,GAClB,CAHD,CAKA,mBACE,MAAC,iBAAD,EAAmB,UAAU,CAAC,QAA9B,CAAuC,OAAO,CAAEC,iBAAhD,WACGX,UADH,KAEGP,OAAO,GAAK,iBAAZ,eACC,KAAC,UAAD,EAAY,OAAO,CAAC,MAApB,CAA2B,KAAK,CAAC,IAAjC,CAAsC,EAAE,CAAC,KAAzC,uBACE,KAAC,aAAD,EAAe,KAAK,CAAC,MAArB,EADF,EAHJ,GADF,CAUD,CA7CD,CA+CA,cAAeD,CAAAA,SAAf","sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\nimport BigNumber from 'bignumber.js'\r\nimport { Flex, IconButton, useModal, CalculateIcon } from '@pancakeswap/uikit'\r\nimport RoiCalculatorModal from 'components/RoiCalculatorModal'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { useFarmUser, useLpTokenPrice } from 'state/farms/hooks'\r\n\r\nconst ApyLabelContainer = styled(Flex)`\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    opacity: 0.5;\r\n  }\r\n`\r\n\r\nexport interface ApyButtonProps {\r\n  variant: 'text' | 'text-and-button'\r\n  pid: number\r\n  lpSymbol: string\r\n  lpLabel?: string\r\n  multiplier: string\r\n  cakePrice?: BigNumber\r\n  apr?: number\r\n  displayApr?: string\r\n  addLiquidityUrl?: string\r\n  isTokenOnly?: boolean\r\n}\r\n\r\nconst ApyButton: React.FC<ApyButtonProps> = ({\r\n  variant,\r\n  pid,\r\n  lpLabel,\r\n  lpSymbol,\r\n  cakePrice,\r\n  apr,\r\n  multiplier,\r\n  displayApr,\r\n  addLiquidityUrl,\r\n  isTokenOnly,\r\n}) => {\r\n  const { t } = useTranslation()\r\n  const lpPrice = useLpTokenPrice(lpSymbol, isTokenOnly)\r\n  const { tokenBalance, stakedBalance } = useFarmUser(pid)\r\n  const [onPresentApyModal] = useModal(\r\n    <RoiCalculatorModal\r\n      linkLabel={t('Get %symbol%', { symbol: lpLabel })}\r\n      stakingTokenBalance={stakedBalance.plus(tokenBalance)}\r\n      stakingTokenSymbol={lpSymbol}\r\n      stakingTokenPrice={lpPrice.toNumber()}\r\n      earningTokenPrice={cakePrice.toNumber()}\r\n      apr={apr}\r\n      multiplier={multiplier}\r\n      displayApr={displayApr}\r\n      linkHref={addLiquidityUrl}\r\n      isFarm\r\n    />,\r\n  )\r\n\r\n  const handleClickButton = (event): void => {\r\n    event.stopPropagation()\r\n    onPresentApyModal()\r\n  }\r\n\r\n  return (\r\n    <ApyLabelContainer alignItems=\"center\" onClick={handleClickButton}>\r\n      {displayApr}%\r\n      {variant === 'text-and-button' && (\r\n        <IconButton variant=\"text\" scale=\"sm\" ml=\"4px\">\r\n          <CalculateIcon width=\"18px\" />\r\n        </IconButton>\r\n      )}\r\n    </ApyLabelContainer>\r\n  )\r\n}\r\n\r\nexport default ApyButton\r\n"]},"metadata":{},"sourceType":"module"}