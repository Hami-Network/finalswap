{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/97154/swap/hami/LokiswapUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/97154/swap/hami/LokiswapUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/97154/swap/hami/LokiswapUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import useActiveWeb3React from'hooks/useActiveWeb3React';import{getMasterChefAddress,getReferralAddress}from'utils/addressHelpers';import{getContract}from'utils/web3';import referral from'config/abi/referral.json';import masterchef from'config/abi/masterchef.json';import useRefresh from'./useRefresh';var useTotalRefCommission=function useTotalRefCommission(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),commission=_useState2[0],setCommission=_useState2[1];var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account;var _useRefresh=useRefresh(),slowRefresh=_useRefresh.slowRefresh;useEffect(function(){function fetchTotalRef(){return _fetchTotalRef.apply(this,arguments);}function _fetchTotalRef(){_fetchTotalRef=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var refContract,totalCommissions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:refContract=getContract(referral,getReferralAddress());_context.next=3;return refContract.methods.referalCommisionRate().call();case 3:totalCommissions=_context.sent;setCommission(totalCommissions);case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchTotalRef.apply(this,arguments);}fetchTotalRef();},[account,slowRefresh]);return commission;};export default useTotalRefCommission;export var useGetReferrate=function useGetReferrate(){var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),commission=_useState4[0],setCommission=_useState4[1];var _useRefresh2=useRefresh(),slowRefresh=_useRefresh2.slowRefresh;useEffect(function(){function fetchTotalRef(){return _fetchTotalRef2.apply(this,arguments);}function _fetchTotalRef2(){_fetchTotalRef2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var refContract,commissionrate;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:refContract=getContract(masterchef,getMasterChefAddress());_context2.next=3;return refContract.methods.referralCommissionRate().call().then(function(res){setCommission(res/100);});case 3:commissionrate=_context2.sent;case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchTotalRef2.apply(this,arguments);}fetchTotalRef();},[slowRefresh]);return commission;};","map":{"version":3,"sources":["C:/Users/97154/swap/hami/LokiswapUI/src/hooks/useTotalRefCommission.ts"],"names":["useEffect","useState","useActiveWeb3React","getMasterChefAddress","getReferralAddress","getContract","referral","masterchef","useRefresh","useTotalRefCommission","commission","setCommission","account","slowRefresh","fetchTotalRef","refContract","methods","referalCommisionRate","call","totalCommissions","useGetReferrate","referralCommissionRate","then","res","commissionrate"],"mappings":"2cAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,kBAAP,KAA+B,0BAA/B,CACA,OAASC,oBAAT,CAA+BC,kBAA/B,KAAyD,sBAAzD,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,MAAOC,CAAAA,QAAP,KAAqB,0BAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,4BAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CAEA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAChC,cAAoCR,QAAQ,EAA5C,wCAAOS,UAAP,eAAmBC,aAAnB,eACA,wBAAoBT,kBAAkB,EAAtC,CAAQU,OAAR,qBAAQA,OAAR,CACA,gBAAwBJ,UAAU,EAAlC,CAAQK,WAAR,aAAQA,WAAR,CAEAb,SAAS,CAAC,UAAM,SACGc,CAAAA,aADH,iJACZ,oKACUC,WADV,CACwBV,WAAW,CAACC,QAAD,CAAWF,kBAAkB,EAA7B,CADnC,uBAEmCW,CAAAA,WAAW,CAACC,OAAZ,CAAoBC,oBAApB,GAA2CC,IAA3C,EAFnC,QAEUC,gBAFV,eAGIR,aAAa,CAACQ,gBAAD,CAAb,CAHJ,sDADY,gDAMZL,aAAa,GAChB,CAPQ,CAON,CAACF,OAAD,CAAUC,WAAV,CAPM,CAAT,CASA,MAAOH,CAAAA,UAAP,CACH,CAfD,CAiBA,cAAeD,CAAAA,qBAAf,CAGA,MAAO,IAAMW,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAEjC,eAAoCnB,QAAQ,CAAC,CAAD,CAA5C,yCAAOS,UAAP,eAAmBC,aAAnB,eACA,iBAAwBH,UAAU,EAAlC,CAAQK,WAAR,cAAQA,WAAR,CAEAb,SAAS,CAAC,UAAM,SACGc,CAAAA,aADH,oJACZ,uKACUC,WADV,CACwBV,WAAW,CAACE,UAAD,CAAaJ,oBAAoB,EAAjC,CADnC,wBAEiCY,CAAAA,WAAW,CAACC,OAAZ,CAAoBK,sBAApB,GAA6CH,IAA7C,GAAoDI,IAApD,CAAyD,SAACC,GAAD,CAAS,CAC3FZ,aAAa,CAACY,GAAG,CAAC,GAAL,CAAb,CACH,CAF4B,CAFjC,QAEUC,cAFV,wEADY,iDAOZV,aAAa,GAChB,CARQ,CAQN,CAACD,WAAD,CARM,CAAT,CAUA,MAAOH,CAAAA,UAAP,CACH,CAhBM","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\r\nimport { getMasterChefAddress, getReferralAddress } from 'utils/addressHelpers'\r\nimport { getContract } from 'utils/web3'\r\nimport referral from 'config/abi/referral.json'\r\nimport masterchef from 'config/abi/masterchef.json'\r\nimport useRefresh from './useRefresh'\r\n\r\nconst useTotalRefCommission = () => {\r\n    const [commission, setCommission] = useState()\r\n    const { account } = useActiveWeb3React()\r\n    const { slowRefresh } = useRefresh()\r\n\r\n    useEffect(() => {\r\n        async function fetchTotalRef() {\r\n            const refContract = getContract(referral, getReferralAddress())\r\n            const totalCommissions = await refContract.methods.referalCommisionRate().call()\r\n            setCommission(totalCommissions)\r\n        }\r\n        fetchTotalRef()\r\n    }, [account, slowRefresh])\r\n\r\n    return commission\r\n}\r\n\r\nexport default useTotalRefCommission\r\n\r\n\r\nexport const useGetReferrate = () => {\r\n\r\n    const [commission, setCommission] = useState(0)\r\n    const { slowRefresh } = useRefresh()\r\n\r\n    useEffect(() => {\r\n        async function fetchTotalRef() {\r\n            const refContract = getContract(masterchef, getMasterChefAddress())\r\n            const commissionrate = await refContract.methods.referralCommissionRate().call().then((res) => {\r\n                setCommission(res/100)\r\n            })\r\n        }\r\n        fetchTotalRef()\r\n    }, [slowRefresh])\r\n\r\n    return commission\r\n}"]},"metadata":{},"sourceType":"module"}