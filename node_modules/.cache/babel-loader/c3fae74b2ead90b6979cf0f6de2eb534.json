{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/97154/swap/hami/LokiswapUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/97154/swap/hami/LokiswapUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/97154/swap/hami/LokiswapUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import useActiveWeb3React from'hooks/useActiveWeb3React';import{getReferralAddress}from'utils/addressHelpers';import{getContract}from'utils/web3';import referral from'config/abi/referral.json';import useRefresh from'./useRefresh';var useTotalReferralCount=function useTotalReferralCount(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account;var _useRefresh=useRefresh(),slowRefresh=_useRefresh.slowRefresh;useEffect(function(){function fetchTotalRef(){return _fetchTotalRef.apply(this,arguments);}function _fetchTotalRef(){_fetchTotalRef=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var refContract,total;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:refContract=getContract(referral,getReferralAddress());_context.next=3;return refContract.methods.referralsCount(account).call();case 3:total=_context.sent;setCount(total);case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchTotalRef.apply(this,arguments);}fetchTotalRef();},[account,slowRefresh]);return count;};export default useTotalReferralCount;","map":{"version":3,"sources":["C:/Users/97154/swap/hami/LokiswapUI/src/hooks/useTotalReferralCount.ts"],"names":["useEffect","useState","useActiveWeb3React","getReferralAddress","getContract","referral","useRefresh","useTotalReferralCount","count","setCount","account","slowRefresh","fetchTotalRef","refContract","methods","referralsCount","call","total"],"mappings":"2cAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,kBAAP,KAA+B,0BAA/B,CACA,OAASC,kBAAT,KAAmC,sBAAnC,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,MAAOC,CAAAA,QAAP,KAAqB,0BAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CAEA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAChC,cAA0BN,QAAQ,EAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,wBAAoBP,kBAAkB,EAAtC,CAAQQ,OAAR,qBAAQA,OAAR,CACA,gBAAwBJ,UAAU,EAAlC,CAAQK,WAAR,aAAQA,WAAR,CAEAX,SAAS,CAAC,UAAM,SACGY,CAAAA,aADH,iJACZ,yJACUC,WADV,CACwBT,WAAW,CAACC,QAAD,CAAWF,kBAAkB,EAA7B,CADnC,uBAEwBU,CAAAA,WAAW,CAACC,OAAZ,CAAoBC,cAApB,CAAmCL,OAAnC,EAA4CM,IAA5C,EAFxB,QAEUC,KAFV,eAGIR,QAAQ,CAACQ,KAAD,CAAR,CAHJ,sDADY,gDAMZL,aAAa,GAChB,CAPQ,CAON,CAACF,OAAD,CAAUC,WAAV,CAPM,CAAT,CASA,MAAOH,CAAAA,KAAP,CACH,CAfD,CAiBA,cAAeD,CAAAA,qBAAf","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\r\nimport { getReferralAddress } from 'utils/addressHelpers'\r\nimport { getContract } from 'utils/web3'\r\nimport referral from 'config/abi/referral.json'\r\nimport useRefresh from './useRefresh'\r\n\r\nconst useTotalReferralCount = () => {\r\n    const [count, setCount] = useState()\r\n    const { account } = useActiveWeb3React()\r\n    const { slowRefresh } = useRefresh()\r\n\r\n    useEffect(() => {\r\n        async function fetchTotalRef() {\r\n            const refContract = getContract(referral, getReferralAddress())\r\n            const total = await refContract.methods.referralsCount(account).call()\r\n            setCount(total)\r\n        }\r\n        fetchTotalRef()\r\n    }, [account, slowRefresh])\r\n\r\n    return count\r\n}\r\n\r\nexport default useTotalReferralCount"]},"metadata":{},"sourceType":"module"}