{"ast":null,"code":"import _objectSpread from\"C:/Users/97154/swap/hami/LokiswapUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/97154/swap/hami/LokiswapUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"C:/Users/97154/swap/hami/LokiswapUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"library\",\"chainId\"];import{useEffect,useState,useRef}from'react';import{useWeb3React}from'@web3-react/core';import{simpleRpcProvider}from'utils/providers';// eslint-disable-next-line import/no-unresolved\n/**\r\n * Provides a web3 provider with or without user's signer\r\n * Recreate web3 instance only if the provider change\r\n */var useActiveWeb3React=function useActiveWeb3React(){var _useWeb3React=useWeb3React(),library=_useWeb3React.library,chainId=_useWeb3React.chainId,web3React=_objectWithoutProperties(_useWeb3React,_excluded);var refEth=useRef(library);var _useState=useState(library||simpleRpcProvider),_useState2=_slicedToArray(_useState,2),provider=_useState2[0],setprovider=_useState2[1];useEffect(function(){if(library!==refEth.current){setprovider(library||simpleRpcProvider);refEth.current=library;}},[library]);return _objectSpread({library:provider,chainId:chainId!==null&&chainId!==void 0?chainId:parseInt(process.env.REACT_APP_CHAIN_ID,10)},web3React);};export default useActiveWeb3React;","map":{"version":3,"sources":["C:/Users/97154/swap/hami/LokiswapUI/src/hooks/useActiveWeb3React.ts"],"names":["useEffect","useState","useRef","useWeb3React","simpleRpcProvider","useActiveWeb3React","library","chainId","web3React","refEth","provider","setprovider","current","parseInt","process","env","REACT_APP_CHAIN_ID"],"mappings":"qgBAAA,OAASA,SAAT,CAAoBC,QAApB,CAA8BC,MAA9B,KAA4C,OAA5C,CACA,OAASC,YAAT,KAA6B,kBAA7B,CAEA,OAASC,iBAAT,KAAkC,iBAAlC,CACA;AAGA;AACA;AACA;AACA,GACA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAA+C,CACxE,kBAA2CF,YAAY,EAAvD,CAAQG,OAAR,eAAQA,OAAR,CAAiBC,OAAjB,eAAiBA,OAAjB,CAA6BC,SAA7B,mDACA,GAAMC,CAAAA,MAAM,CAAGP,MAAM,CAACI,OAAD,CAArB,CACA,cAAgCL,QAAQ,CAACK,OAAO,EAAIF,iBAAZ,CAAxC,wCAAOM,QAAP,eAAiBC,WAAjB,eAEAX,SAAS,CAAC,UAAM,CACd,GAAIM,OAAO,GAAKG,MAAM,CAACG,OAAvB,CAAgC,CAC9BD,WAAW,CAACL,OAAO,EAAIF,iBAAZ,CAAX,CACAK,MAAM,CAACG,OAAP,CAAiBN,OAAjB,CACD,CACF,CALQ,CAKN,CAACA,OAAD,CALM,CAAT,CAOA,sBAASA,OAAO,CAAEI,QAAlB,CAA4BH,OAAO,CAAEA,OAAF,SAAEA,OAAF,UAAEA,OAAF,CAAaM,QAAQ,CAACC,OAAO,CAACC,GAAR,CAAYC,kBAAb,CAAiC,EAAjC,CAAxD,EAAiGR,SAAjG,EACD,CAbD,CAeA,cAAeH,CAAAA,kBAAf","sourcesContent":["import { useEffect, useState, useRef } from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { Web3Provider } from '@ethersproject/providers'\r\nimport { simpleRpcProvider } from 'utils/providers'\r\n// eslint-disable-next-line import/no-unresolved\r\nimport { Web3ReactContextInterface } from '@web3-react/core/dist/types'\r\n\r\n/**\r\n * Provides a web3 provider with or without user's signer\r\n * Recreate web3 instance only if the provider change\r\n */\r\nconst useActiveWeb3React = (): Web3ReactContextInterface<Web3Provider> => {\r\n  const { library, chainId, ...web3React } = useWeb3React()\r\n  const refEth = useRef(library)\r\n  const [provider, setprovider] = useState(library || simpleRpcProvider)\r\n\r\n  useEffect(() => {\r\n    if (library !== refEth.current) {\r\n      setprovider(library || simpleRpcProvider)\r\n      refEth.current = library\r\n    }\r\n  }, [library])\r\n\r\n  return { library: provider, chainId: chainId ?? parseInt(process.env.REACT_APP_CHAIN_ID, 10), ...web3React }\r\n}\r\n\r\nexport default useActiveWeb3React\r\n"]},"metadata":{},"sourceType":"module"}