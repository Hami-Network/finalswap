{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/97154/swap/hami/LokiswapUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import React,{useRef,useEffect}from'react';import styled from'styled-components';import{Box,Flex,Text,Input,CheckmarkIcon,PencilIcon,IconButton}from'@pancakeswap/uikit';import{useTranslation}from'contexts/Localization';import{CalculatorMode}from'./useRoiCalculatorReducer';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MILLION=1000000;var TRILLION=1000000000000;var RoiCardWrapper=styled(Box)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background: linear-gradient(180deg, #53dee9, #7645d9);\\n  padding: 1px;\\n  width: 100%;\\n  border-radius: \",\";\\n\"])),function(_ref){var theme=_ref.theme;return theme.radii.default;});var RoiCardInner=styled(Box)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  height: 120px;\\n  padding: 24px;\\n  border-radius: \",\";\\n  background: \",\";\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.radii.default;},function(_ref3){var theme=_ref3.theme;return theme.colors.gradients.bubblegum;});var RoiInputContainer=styled(Box)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  position: relative;\\n  & > input {\\n    padding-left: 28px;\\n    max-width: 70%;\\n  }\\n  &:before {\\n    position: absolute;\\n    content: '$';\\n    color: \",\";\\n    left: 16px;\\n    top: 8px;\\n  }\\n\"])),function(_ref4){var theme=_ref4.theme;return theme.colors.textSubtle;});var RoiDisplayContainer=styled(Flex)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  max-width: 82%;\\n  margin-right: 8px;\\n\"])));var RoiDollarAmount=styled(Text)(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  position: relative;\\n  overflow-x: auto;\\n  &::-webkit-scrollbar {\\n    height: 0px;\\n  }\\n\\n  \",\"\\n\"])),function(_ref5){var fadeOut=_ref5.fadeOut,theme=_ref5.theme;return fadeOut&&\"\\n      &:after {\\n        background: linear-gradient(\\n          to right,\\n          \".concat(theme.colors.background,\"00,\\n          \").concat(theme.colors.background,\"E6\\n        );\\n        content: '';\\n        height: 100%;\\n        pointer-events: none;\\n        position: absolute;\\n        right: 0;\\n        top: 0;\\n        width: 40px;\\n      }\\n  \");});var RoiCard=function RoiCard(_ref6){var earningTokenSymbol=_ref6.earningTokenSymbol,calculatorState=_ref6.calculatorState,setTargetRoi=_ref6.setTargetRoi,setCalculatorMode=_ref6.setCalculatorMode;var inputRef=useRef(null);var _calculatorState$data=calculatorState.data,roiUSD=_calculatorState$data.roiUSD,roiTokens=_calculatorState$data.roiTokens,roiPercentage=_calculatorState$data.roiPercentage;var mode=calculatorState.controls.mode;var _useTranslation=useTranslation(),t=_useTranslation.t;useEffect(function(){if(mode===CalculatorMode.PRINCIPAL_BASED_ON_ROI&&inputRef.current){inputRef.current.focus();}},[mode]);var onEnterEditing=function onEnterEditing(){setCalculatorMode(CalculatorMode.PRINCIPAL_BASED_ON_ROI);};var onExitRoiEditing=function onExitRoiEditing(){setCalculatorMode(CalculatorMode.ROI_BASED_ON_PRINCIPAL);};var handleExpectedRoiChange=function handleExpectedRoiChange(event){setTargetRoi(event.currentTarget.value);};return/*#__PURE__*/_jsx(RoiCardWrapper,{children:/*#__PURE__*/_jsxs(RoiCardInner,{children:[/*#__PURE__*/_jsx(Text,{fontSize:\"12px\",color:\"secondary\",bold:true,textTransform:\"uppercase\",children:t('ROI at current rates')}),/*#__PURE__*/_jsx(Flex,{justifyContent:\"space-between\",mt:\"4px\",height:\"36px\",children:mode===CalculatorMode.PRINCIPAL_BASED_ON_ROI?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RoiInputContainer,{children:/*#__PURE__*/_jsx(Input,{ref:inputRef,type:\"number\",inputMode:\"decimal\",pattern:\"\\\\d*\",scale:\"sm\",value:roiUSD,placeholder:\"0.0\",onChange:handleExpectedRoiChange})}),/*#__PURE__*/_jsx(IconButton,{scale:\"sm\",variant:\"text\",onClick:onExitRoiEditing,children:/*#__PURE__*/_jsx(CheckmarkIcon,{color:\"primary\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(RoiDisplayContainer,{onClick:onEnterEditing,children:[/*#__PURE__*/_jsx(Text,{fontSize:\"24px\",bold:true,children:\"$\"}),/*#__PURE__*/_jsx(RoiDollarAmount,{fontSize:\"24px\",bold:true,fadeOut:roiUSD>TRILLION,children:roiUSD.toLocaleString('en',{minimumFractionDigits:roiUSD>MILLION?0:2,maximumFractionDigits:roiUSD>MILLION?0:2})})]}),/*#__PURE__*/_jsx(IconButton,{scale:\"sm\",variant:\"text\",onClick:onEnterEditing,children:/*#__PURE__*/_jsx(PencilIcon,{color:\"primary\"})})]})}),/*#__PURE__*/_jsxs(Text,{fontSize:\"12px\",color:\"textSubtle\",children:[\"~ \",roiTokens,\" \",earningTokenSymbol,\" (\",roiPercentage.toLocaleString('en',{minimumFractionDigits:2,maximumFractionDigits:2}),\"%)\"]})]})});};export default RoiCard;","map":{"version":3,"sources":["C:/Users/97154/swap/hami/LokiswapUI/src/components/RoiCalculatorModal/RoiCard.tsx"],"names":["React","useRef","useEffect","styled","Box","Flex","Text","Input","CheckmarkIcon","PencilIcon","IconButton","useTranslation","CalculatorMode","MILLION","TRILLION","RoiCardWrapper","theme","radii","default","RoiCardInner","colors","gradients","bubblegum","RoiInputContainer","textSubtle","RoiDisplayContainer","RoiDollarAmount","fadeOut","background","RoiCard","earningTokenSymbol","calculatorState","setTargetRoi","setCalculatorMode","inputRef","data","roiUSD","roiTokens","roiPercentage","mode","controls","t","PRINCIPAL_BASED_ON_ROI","current","focus","onEnterEditing","onExitRoiEditing","ROI_BASED_ON_PRINCIPAL","handleExpectedRoiChange","event","currentTarget","value","toLocaleString","minimumFractionDigits","maximumFractionDigits"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Box, Flex, Text, Input, CheckmarkIcon, PencilIcon, IconButton } from '@pancakeswap/uikit'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { CalculatorMode, RoiCalculatorReducerState } from './useRoiCalculatorReducer'\r\n\r\nconst MILLION = 1000000\r\nconst TRILLION = 1000000000000\r\n\r\nconst RoiCardWrapper = styled(Box)`\r\n  background: linear-gradient(180deg, #53dee9, #7645d9);\r\n  padding: 1px;\r\n  width: 100%;\r\n  border-radius: ${({ theme }) => theme.radii.default};\r\n`\r\n\r\nconst RoiCardInner = styled(Box)`\r\n  height: 120px;\r\n  padding: 24px;\r\n  border-radius: ${({ theme }) => theme.radii.default};\r\n  background: ${({ theme }) => theme.colors.gradients.bubblegum};\r\n`\r\n\r\nconst RoiInputContainer = styled(Box)`\r\n  position: relative;\r\n  & > input {\r\n    padding-left: 28px;\r\n    max-width: 70%;\r\n  }\r\n  &:before {\r\n    position: absolute;\r\n    content: '$';\r\n    color: ${({ theme }) => theme.colors.textSubtle};\r\n    left: 16px;\r\n    top: 8px;\r\n  }\r\n`\r\n\r\nconst RoiDisplayContainer = styled(Flex)`\r\n  max-width: 82%;\r\n  margin-right: 8px;\r\n`\r\n\r\nconst RoiDollarAmount = styled(Text)<{ fadeOut: boolean }>`\r\n  position: relative;\r\n  overflow-x: auto;\r\n  &::-webkit-scrollbar {\r\n    height: 0px;\r\n  }\r\n\r\n  ${({ fadeOut, theme }) =>\r\n    fadeOut &&\r\n    `\r\n      &:after {\r\n        background: linear-gradient(\r\n          to right,\r\n          ${theme.colors.background}00,\r\n          ${theme.colors.background}E6\r\n        );\r\n        content: '';\r\n        height: 100%;\r\n        pointer-events: none;\r\n        position: absolute;\r\n        right: 0;\r\n        top: 0;\r\n        width: 40px;\r\n      }\r\n  `}\r\n`\r\n\r\ninterface RoiCardProps {\r\n  earningTokenSymbol: string\r\n  calculatorState: RoiCalculatorReducerState\r\n  setTargetRoi: (amount: string) => void\r\n  setCalculatorMode: (mode: CalculatorMode) => void\r\n}\r\n\r\nconst RoiCard: React.FC<RoiCardProps> = ({ earningTokenSymbol, calculatorState, setTargetRoi, setCalculatorMode }) => {\r\n  const inputRef = useRef<HTMLInputElement | null>(null)\r\n  const { roiUSD, roiTokens, roiPercentage } = calculatorState.data\r\n  const { mode } = calculatorState.controls\r\n\r\n  const { t } = useTranslation()\r\n\r\n  useEffect(() => {\r\n    if (mode === CalculatorMode.PRINCIPAL_BASED_ON_ROI && inputRef.current) {\r\n      inputRef.current.focus()\r\n    }\r\n  }, [mode])\r\n\r\n  const onEnterEditing = () => {\r\n    setCalculatorMode(CalculatorMode.PRINCIPAL_BASED_ON_ROI)\r\n  }\r\n\r\n  const onExitRoiEditing = () => {\r\n    setCalculatorMode(CalculatorMode.ROI_BASED_ON_PRINCIPAL)\r\n  }\r\n  const handleExpectedRoiChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setTargetRoi(event.currentTarget.value)\r\n  }\r\n  return (\r\n    <RoiCardWrapper>\r\n      <RoiCardInner>\r\n        <Text fontSize=\"12px\" color=\"secondary\" bold textTransform=\"uppercase\">\r\n          {t('ROI at current rates')}\r\n        </Text>\r\n        <Flex justifyContent=\"space-between\" mt=\"4px\" height=\"36px\">\r\n          {mode === CalculatorMode.PRINCIPAL_BASED_ON_ROI ? (\r\n            <>\r\n              <RoiInputContainer>\r\n                <Input\r\n                  ref={inputRef}\r\n                  type=\"number\"\r\n                  inputMode=\"decimal\"\r\n                  pattern=\"\\d*\"\r\n                  scale=\"sm\"\r\n                  value={roiUSD}\r\n                  placeholder=\"0.0\"\r\n                  onChange={handleExpectedRoiChange}\r\n                />\r\n              </RoiInputContainer>\r\n              <IconButton scale=\"sm\" variant=\"text\" onClick={onExitRoiEditing}>\r\n                <CheckmarkIcon color=\"primary\" />\r\n              </IconButton>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <RoiDisplayContainer onClick={onEnterEditing}>\r\n                {/* Dollar sign is separate cause its not supposed to scroll with a number if number is huge */}\r\n                <Text fontSize=\"24px\" bold>\r\n                  $\r\n                </Text>\r\n                <RoiDollarAmount fontSize=\"24px\" bold fadeOut={roiUSD > TRILLION}>\r\n                  {roiUSD.toLocaleString('en', {\r\n                    minimumFractionDigits: roiUSD > MILLION ? 0 : 2,\r\n                    maximumFractionDigits: roiUSD > MILLION ? 0 : 2,\r\n                  })}\r\n                </RoiDollarAmount>\r\n              </RoiDisplayContainer>\r\n              <IconButton scale=\"sm\" variant=\"text\" onClick={onEnterEditing}>\r\n                <PencilIcon color=\"primary\" />\r\n              </IconButton>\r\n            </>\r\n          )}\r\n        </Flex>\r\n        <Text fontSize=\"12px\" color=\"textSubtle\">\r\n          ~ {roiTokens} {earningTokenSymbol} (\r\n          {roiPercentage.toLocaleString('en', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n          %)\r\n        </Text>\r\n      </RoiCardInner>\r\n    </RoiCardWrapper>\r\n  )\r\n}\r\n\r\nexport default RoiCard\r\n"]},"metadata":{},"sourceType":"module"}